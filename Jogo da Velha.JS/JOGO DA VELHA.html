

<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<title>Jogo da Velha - Dione IS </title>
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css">
		
		<style>
			h1{
				font-family:garamond;
			}
			
			h4{
				color: rgb(153, 163, 163);
			}
			.celula{
				width: 30px;
				height: 30px;
				text-align: center;
				
			}
			.tabela{
				background-color: rgba(0, 255, 221, 0.815);
				margin-left: 400px;
				margin-right: 400px;
				padding-top: 50px;
				padding-bottom: 50px;
			}
			.centro{
				text-align: center;
			}
		</style>
	</head>
	<body>
			<h1 class="centro" >JOGO DA VELHA</h1>
			<br>
			<h4 class="centro">COMECE A PARTIDA - X</h4>
				
			<!--Usuario: é o xxx
			Computador: é a O -->

			<!-- <i class="far fa-circle"></i> -->
			<!-- <i class="fas fa-times"></i> -->
		<div class="tabela">
			<table class="tableJogoVelha" border="1" align="center" >
				<tr>
					<td class="celula" id="linha1Coluna1" onclick="adicionarXAqui('linha1Coluna1', 1)"></td>
					<td class="celula" id="linha1Coluna2" onclick="adicionarXAqui('linha1Coluna2', 2)"></td>
					<td class="celula" id="linha1Coluna3" onclick="adicionarXAqui('linha1Coluna3', 3)"></td>
				</tr>
				<tr>
					<td class="celula" id="linha2Coluna1"  onclick="adicionarXAqui('linha2Coluna1', 4)"></td>
					<td class="celula" id="linha2Coluna2"  onclick="adicionarXAqui('linha2Coluna2', 5)"></td>
					<td class="celula" id="linha2Coluna3"  onclick="adicionarXAqui('linha2Coluna3', 6)"></td>
				</tr>

				<tr>
					<td class="celula" id="linha3Coluna1" onclick="adicionarXAqui('linha3Coluna1', 7)"></td>
					<td class="celula" id="linha3Coluna2" onclick="adicionarXAqui('linha3Coluna2', 8)"></td>
					<td class="celula" id="linha3Coluna3" onclick="adicionarXAqui('linha3Coluna3', 9)"></td>
				</tr>
			</table>
		</div>    

	</body>

	<script type="text/javascript">
		var quadrantesMarcados = [];
        
		var arrayIdComQuadrante = [
			"",  //index 0
			"linha1Coluna1", // index 1
			"linha1Coluna2", // index 2
			"linha1Coluna3", // index 3
			"linha2Coluna1", // index 4
			"linha2Coluna2", // index 5
			"linha2Coluna3", // index 6
			"linha3Coluna1", // index 7
			"linha3Coluna2", // index 8
			"linha3Coluna3", // index 9
		]
        
        qt = 0;
		function adicionarXAqui(idCelula, quadrante){	           
            qt++;
			if(quadrantesMarcados.indexOf(quadrante) == -1 ) {
				preencheVelha(idCelula, "x", quadrante)
			 	efetuarJogadaDaMaquina();
			}     
		}

		function efetuarJogadaDaMaquina(){            
            if(qt<5){
                do{
                    vf=true
                    do{
                    	var quadranteMaquina = Math.floor(Math.random() * 10);
                    }while(quadranteMaquina == 0);

                    if(quadrantesMarcados.indexOf(quadranteMaquina) == -1) {
                        console.log("NÃO ACHEI NENHUM QUADRANTE. Quandrante: " + quadranteMaquina );

                        idQuadranteEscolhidoPelaMaquina = arrayIdComQuadrante[quadranteMaquina]
                        
                        preencheVelha(idQuadranteEscolhidoPelaMaquina, "0", quadranteMaquina)
                    }
                    else{
                        console.log("ACHEI PREENCHIDO. Quandrante: " + quadranteMaquina );
                        console.log("probleeeeema");
                        vf = false;
                    }
                
                }while(vf == false);

		    }
		}
		
		function preencheVelha(idQuadrante, tipo, valorQuadrante){
		
			var elemento = document.getElementById(idQuadrante);

			if(tipo == "x"){
				elemento.innerHTML = "<i class='fas fa-times'></i>";
                console.log(qt);             
			}
            else{
                const jogada = document.querySelector('h4');
                jogada.textContent = 'VEZ DO ADVERSARIO - O';
                var delay=2000; //2 seconds
                setTimeout(function(){
                    elemento.innerHTML = "<i class='far fa-circle'></i>";
                },delay);                
			}

			quadrantesMarcados.push(valorQuadrante); //adiciona elementos a um array	
            
                var delay=2000; 
                setTimeout(function(){
                const jogada = document.querySelector('h4');
                jogada.textContent = 'SUA VEZ - X';
                },delay);              
        }     
	</script>
</html>

